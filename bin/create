#!/usr/bin/env python
import sys
from boto import cloudformation
from stack import Stack


def usage():
    print("Usage: " + sys.argv[0] + " ENV STACK")
    print("Valid STACK values: iam, network")
    sys.exit(0)


def main(env, stack_type):
    print(Stack(cloudformation.connect_to_region("us-east-1"), env, stack_type).create())


if __name__ == "__main__":
    argv = sys.argv[1:]
    if len(argv) != 2 or not argv[0] or not argv[1]:
        usage()

    main(argv[0], Stack.Types[argv[1]])
